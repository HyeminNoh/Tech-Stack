# ì˜ˆì™¸ì²˜ë¦¬ (Exception Handling)
*written by sohyeon, hyemin ğŸ’¡*

<br>

## 1. í”„ë¡œê·¸ë¨ ì˜¤ë¥˜

í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘ ì–´ë–¤ ì›ì¸ì— ì˜í•´ ì˜¤ì‘ë™í•˜ê±°ë‚˜ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°  
ì´ëŸ° ê²°ê³¼ë¥¼ ì´ˆë˜í•˜ëŠ” ì›ì¸ì„ í”„ë¡œê·¸ë¨ ì—ëŸ¬ ë˜ëŠ” ì˜¤ë¥˜ë¼ê³  í•œë‹¤. 

ë°œìƒì‹œì ì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì´ ë‘ì¢…ë¥˜ë¡œ êµ¬ë¶„í•œë‹¤.

* ì»´íŒŒì¼ ì—ëŸ¬ (compile error) : ì»´íŒŒì¼ ì‹œì— ë°œìƒí•˜ëŠ” ì—ëŸ¬
* ëŸ°íƒ€ì„ ì—ëŸ¬ (runtime error) : ì‹¤í–‰ ì‹œì— ë°œìƒí•˜ëŠ” ì—ëŸ¬
* ë…¼ë¦¬ì  ì—ëŸ¬ (logical error) : ì‹¤í–‰ì€ ë˜ì§€ë§Œ ì˜ë„ì™€ ë‹¤ë¥´ê²Œ ë™ì‘í•˜ëŠ” ê²ƒ

ìë°”ì—ì„œëŠ” ì‹¤í–‰ ì‹œì—(run time) ë°œìƒí•˜ëŠ” í”„ë¡œê·¸ë¨ ì˜¤ë¥˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ë¶„í•œë‹¤

* ì—ëŸ¬(error): ë©”ëª¨ë¦¬ ë¶€ì¡±ì´ë‚˜ ìŠ¤íƒì˜¤ë²„í”Œë¡œ(OutOfMemoryError, StackOverflowError)ì™€ ê°™ì´ ìˆ˜ìŠµë  ìˆ˜ ì—†ëŠ” ì‹¬ê°í•œ ì˜¤ë¥˜
* ì˜ˆì™¸(exception): ì½”ë“œì— ì˜í•´ ìˆ˜ìŠµë  ìˆ˜ ìˆëŠ” ë‹¤ì†Œ ë¯¸ì•½í•œ ì˜¤ë¥˜

`í”„ë¡œê·¸ë˜ë¨¸ê°€ ì˜ˆì™¸ì— ëŒ€í•œ ì ì ˆí•œ ì½”ë“œë¥¼ ë¯¸ë¦¬ ì‘ì„±í•´ ë†“ìŒìœ¼ë¡œì¨ í”„ë¡œê·¸ë¨ì˜ ë¹„ì •ìƒì ì¸ ì¢…ë£Œë¥¼ ë§‰ì„ ìˆ˜ ìˆë‹¤.`  

## 2. ì˜ˆì™¸ í´ë˜ìŠ¤ì˜ ê³„ì¸µêµ¬ì¡°

ëª¨ë“  í´ë˜ìŠ¤ì˜ ì¡°ìƒì€ Objectí´ë˜ìŠ¤ ì´ë¯€ë¡œ Exceptionê³¼ Errorí´ë˜ìŠ¤ ì—­ì‹œ Objectí´ë˜ìŠ¤ì˜ ìì†ë“¤ì´ë‹¤.

```
                  Object
                    |
                Throwable
                  /  \
      Exception          Error
        / \               /  \
IOException RuntimeEx..  ..  OutOfMemoryError
```

ëª¨ë“  ì˜ˆì™¸ì˜ ìµœê³  ì¡°ìƒì€ Exception classì´ê³  ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.
```
Exception
    |
    |--- IOException
    |--- ClassNotFoundException
    |--- ...
    |--- RuntimeException
            |--- ArithmeticException
            |--- ClassCastException
            |--- NullPointerException
            |--- ...
            |--- IndexOutOfBoundsException
```
ë‘ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì§„ë‹¤.  
* `Exception í´ë˜ìŠ¤ë“¤`  
    : ì‚¬ìš©ìì˜ ì‹¤ìˆ˜ì™€ ê°™ì€ ì™¸ì ì¸ ìš”ì¸ì— ì˜í•´ ë°œìƒí•˜ëŠ” ì˜ˆì™¸
* `RuntimeException í´ë˜ìŠ¤ë“¤`  
    : í”„ë¡œê·¸ë˜ë¨¸ì˜ ì‹¤ìˆ˜ë¡œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸

## 3. ì˜ˆì™¸ì²˜ë¦¬í•˜ê¸°

### 3-1. ì˜ˆì™¸ì²˜ë¦¬ë€?

    - ì •ì˜: í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜ˆì™¸ì˜ ë°œìƒì— ëŒ€ë¹„í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒ
    - ëª©ì : í”„ë¡œê·¸ë¨ì˜ ë¹„ì •ìƒ ì¢…ë£Œë¥¼ ë§‰ê³  ì •ìƒì ì¸ ì‹¤í–‰ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒ

ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ `try-catchë¬¸`ì„ ì‚¬ìš©í•œë‹¤.

#### ex) ì˜ˆì œ
```Java
class ExceptionEx1{
    public static void main(String args[]) {
        try {
            try{ } catch(Exception e){ }
        }catch (Exception e){
            try{ } catch(Exception e){ }  // --> error 'e' ê°€ ì¤‘ë³µ ì„ ì–¸
        }
    }
}
```

### 3-2. íŠ¹ì§•

* tryë¸”ëŸ­ ë˜ëŠ” catchë¸”ëŸ­ì— ë˜ ë‹¤ë¥¸ try-catchë¬¸ì´ í¬í•¨ë  ìˆ˜ ìˆë‹¤.  
* catchë¸”ëŸ­ ë‚´ì— ë˜ í•˜ë‚˜ì˜ try-catchë¬¸ì´ í¬í•¨ëœ ê²½ìš°, ê°™ì€ ì´ë¦„ì˜ ì°¸ì¡°ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œëŠ” ì•ˆëœë‹¤.  

## 4. try-catchë¬¸ì˜ íë¦„

* tryë¸”ëŸ­ ë‚´ì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí•œ ê²½ìš°  

    1. ë°œìƒí•œ ì˜ˆì™¸ì™€ ì¼ì¹˜í•˜ëŠ” catchë¸”ëŸ­ì´ ìˆëŠ”ì§€ í™•ì¸  

    2. ì¼ì¹˜í•˜ëŠ” catchë¸”ëŸ­ì„ ì°¾ê²Œë˜ë©´, ê·¸ catchë¸”ëŸ­ ë‚´ì˜ ë¬¸ì¥ë“¤ì„ ìˆ˜í–‰í•˜ê³   
       ì „ì²´ try-catchë¬¸ì„ ë¹ ì ¸ë‚˜ê°€ì„œ ê·¸ ë‹¤ìŒ ë¬¸ì¥ì„ ê³„ì†í•´ì„œ ìˆ˜í–‰  
       ë§Œì¼ ì¼ì¹˜í•˜ëŠ” catchë¸”ëŸ­ì„ ì°¾ì§€ ëª»í•˜ë©´, ì˜ˆì™¸ëŠ” ì²˜ë¦¬ë˜ì§€ ëª»í•œë‹¤.  

* tryë¸”ëŸ­ ë‚´ì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ì§€ ì•Šì€ ê²½ìš°  

    1. catchë¸”ëŸ­ì„ ê±°ì¹˜ì§€ ì•Šê³  ì „ì²´ try-catchë¬¸ì„ ë¹ ì ¸ë‚˜ê°€ì„œ ìˆ˜í–‰ì„ ê³„ì†í•œë‹¤.  

## 5. ì˜ˆì™¸ì˜ ë°œìƒê³¼ catchë¸”ëŸ­

### 5-1. ì˜ˆì™¸ì˜ ë°œìƒê³¼ ì²˜ë¦¬

* catchë¸”ëŸ­ì€ `ê´„í˜¸()`ì™€ `ë¸”ëŸ­{}` ë‘ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ ì ¸ ìˆëŠ”ë°,  
  `ê´„í˜¸()`ë‚´ì—ëŠ” ì²˜ë¦¬í•˜ê³ ì í•˜ëŠ” ì˜ˆì™¸ì™€ ê°™ì€ íƒ€ì…ì˜ ì°¸ì¡°ë³€ìˆ˜ í•˜ë‚˜ë¥¼ ì„ ì–¸í•´ì•¼ í•œë‹¤.

* ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ë§Œë“¤ì–´ì§„ë‹¤.  

* ì˜ˆì™¸ê°€ ë°œìƒí•œ ë¬¸ì¥ì´ try-catchë¬¸ì˜ tryë¸”ëŸ­ì— ìˆë‹¤ë©´, ì´ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” catchë¸”ëŸ­ì„ ì°¾ê²Œëœë‹¤.  

* ì²«ë²ˆì§¸ catch ë¸”ëŸ­ë¶€í„° ì°¨ë¡€ë¡œ ë‚´ë ¤ê°€ë©´ì„œ catchë¸”ëŸ­ì˜ ê´„í˜¸()ë‚´ì— ì„ ì–¸ëœ ì°¸ì¡°ë³€ìˆ˜ì˜ ì¢…ë¥˜ì™€ 
  ìƒì„±ëœ ì˜ˆì™¸í´ë˜ìŠ¤ì˜ instanceì— instanceof ì—°ì‚°ìë¥¼ ì´ìš©í•´ ê²€ì‚¬í•˜ê³  ê²°ê³¼ê°€ trueì´ë©´ ì˜ˆì™¸ì²˜ë¦¬í•œë‹¤.  

* ëª¨ë“  ì˜ˆì™¸ í´ë˜ìŠ¤ëŠ” Exceptioní´ë˜ìŠ¤ì˜ ìì†ì´ë¯€ë¡œ Exceptioní´ë˜ìŠ¤ íƒ€ì…ì˜ ì°¸ì¡°ë³€ìˆ˜ë¥¼ ì„ ì–¸í•´ ë†“ìœ¼ë©´ 
  ì–´ë–¤ ì¢…ë¥˜ì˜ ì˜ˆì™¸ê°€ ë°œìƒí•´ë„ ì´ catchë¸”ëŸ­ì— ì˜í•´ ì²˜ë¦¬ëœë‹¤.  

#### ex) ì˜ˆì œ
```Java
class ExceptionEx {
     public static void main(String args[]) {
         System.out.println(1);
         System.out.println(2);
         try {
             System.out.println(3);
             System.out.println(0/0); // 0ìœ¼ë¡œ ë‚˜ëˆ  ArithmeticExceptionë°œìƒ
             System.out.println(4);  // ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤
         }catch (ArithmeticException ae){
             if (ae instanceof ArithmeticException)
                System.out.println("true");
             System.out.println("ArithmeticException");
         }catch (Exception e){  //ArithmeticExceptionì„ ì œì™¸í•œ ëª¨ë“  ì˜ˆì™¸
             System.out.println("Exception");
         }
         System.out.println(6);
     }
 }
 ```
#### ì‹¤í–‰ê²°ê³¼
```
1
2
3
true
ArithmeticException
6
```

### 5-2. ì˜ˆì™¸ì— ëŒ€í•œ method

ì˜ˆì™¸ê°€ ë°œìƒí–ˆì„ ë•Œ ìƒì„±ë˜ëŠ” ì˜ˆì™¸í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì—ëŠ” ë°œìƒí•œ ì˜ˆì™¸ì— ëŒ€í•œ ì •ë³´ê°€ ë‹´ê²¨ì ¸ ìˆìœ¼ë©°  
ë‹¤ìŒ methodë“¤ì„ í†µí•´ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.  

    - printStackTrace(): ì˜ˆì™¸ë°œìƒ ë‹¹ì‹œì˜ í˜¸ì¶œìŠ¤íƒì— ìˆì—ˆë˜ ë©”ì„œë“œì˜ ì •ë³´ì™€ ì˜ˆì™¸ ë©”ì‹œì§€ë¥¼ í™”ë©´ì— ì¶œë ¥  
    - getMessage(): ë°œìƒí•œ ì˜ˆì™¸í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥ëœ ë©”ì‹œì§€ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.  

### 5-3. ë©€í‹° catchë¸”ëŸ­

JDK1.7ë¶€í„° ì—¬ëŸ¬ catchë¸”ëŸ­ì„ '|' ê¸°í˜¸ë¥¼ ì´ìš©í•´ì„œ í•˜ë‚˜ì˜ catchë¸”ëŸ­ìœ¼ë¡œ í•©ì¹  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.  
ì¤‘ë³µëœ ì½”ë“œë¥¼ ì¤„ì¼ ìˆ˜ ìˆê³  ì—°ê²°í•  ìˆ˜ ìˆëŠ” ì˜ˆì™¸ í´ë˜ìŠ¤ì˜ ê°œìˆ˜ì— ì œí•œì´ ì—†ë‹¤.  

> ë‘ ì˜ˆì™¸ í´ë˜ìŠ¤ê°€ ì¡°ìƒê³¼ ìì† ê´€ê³„ë¼ë©´ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.  
> ì¡°ìƒí´ë˜ìŠ¤ë§Œ ì¨ì£¼ëŠ” ê²ƒê³¼ ë™ì¼í•˜ê¸° ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ì½”ë“œë¥¼ ì œê±°í•˜ë¼ëŠ” ì˜ë¯¸ì˜ ì—ëŸ¬ë‹¤.

#### ex) ì ìš© ì „
```Java
try {
    ...
}catch (ExceptionA e){
    e.printStackTrace();
}catch (ExceptionB e2){
    e2.printStackTrace();
}
```
#### ex) ì ìš© í›„
```Java
try {
    ...
}catch (ExceptionA | ExceptionB e){
    e.printStackTrace();
}
```

## 6. finallyë¸”ëŸ­

finallyë¸”ëŸ­ì€ try-catchë¬¸ê³¼ í•¨ê»˜ ì˜ˆì™¸ì˜ ë°œìƒì—¬ë¶€ì— ìƒê´€ì—†ì´ ì‹¤í–‰ë˜ì–´ì•¼í•  ì½”ë“œë¥¼ í¬í•¨ì‹œí‚¬ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.
try-catchë¬¸ ëì— ì„ íƒì ìœ¼ë¡œ ë§ë¶™ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

#### ex) ì˜ˆì œ
```Java
try {
    // ì˜ˆì™¸ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ë¬¸ì¥ë“¤ì„ ë„£ëŠ”ë‹¤.
    ...
} catch (Exception e) {
    // ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ìœ„í•œ ë¬¸ì¥ì„ ì ëŠ”ë‹¤.
    ...
} finally {
    // ì˜ˆì™¸ì˜ ë°œìƒì—¬ë¶€ì— ê´€ê³„ì—†ì´ í•­ìƒ ìˆ˜í–‰ë˜ì–´ì•¼í•˜ëŠ” ë¬¸ì¥ë“¤ì„ ë„£ëŠ”ë‹¤.
}
```
ì˜ˆì™¸ê°€ ë°œìƒí•œ ê²½ìš°ì—ëŠ” `try->catch->finally`ìˆœìœ¼ë¡œ ì‹¤í–‰ë˜ê³ ,  
ì˜ˆì™¸ê°€ ë°œìƒí•˜ì§€ ì•Šì€ ê²½ìš° `try->finally`ìˆœìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

