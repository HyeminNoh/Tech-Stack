# ì¿ í‚¤(cookie)ì™€ ì„¸ì…˜(session)
*written by sohyeon, hyemin ğŸ’¡*

<br>

## 1. ì¿ í‚¤ì™€ ì„¸ì…˜ì„ ì™œ ì‚¬ìš©í• ê¹Œ?

HTTP í”„ë¡œí† ì½œì˜ íŠ¹ì§•ì´ì ì•½ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.  
HTTP í”„ë¡œí† ì½œì€ **connectionless**, **stateless**í•œ íŠ¹ì„±ì´ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.  

### ë¹„ì—°ê²°ì„± (Connenctionless)

í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ìš”ì²­ì„ í•œ í›„ ì‘ë‹µì„ ë°›ìœ¼ë©´ ë§ºì—ˆë˜ ì—°ê²°ì„ ëŠëŠ” íŠ¹ì„±  

### ë¬´ìƒíƒœì„± (Stateless)

ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ì˜ í†µì‹ ì´ ëë‚˜ë©´ ìƒíƒœë¥¼ ìœ ì§€í•˜ì§€ ì•ŠëŠ” íŠ¹ì„±  

ìƒíƒœë¥¼ ëª¨ë¥¸ë‹¤ë©´,  
1. ì‡¼í•‘ëª°ì— ì ‘ì†
2. ë¡œê·¸ì¸ 
3. ìƒí’ˆ í´ë¦­ -> ìƒì„¸í™”ë©´ìœ¼ë¡œ ì´ë™
4. ë¡œê·¸ì¸
5. ì£¼ë¬¸
6. ë¡œê·¸ì¸
7. ....  

ì´ëŸ°ì‹ìœ¼ë¡œ ë§¤ë²ˆ í´ë¼ì´ì–¸íŠ¸ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ì¸ì¦ì„ ë°˜ë³µí•´ì•¼í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•©ë‹ˆë‹¤.

-> ì´ëŸ¬í•œ HTTPí”„ë¡œí† ì½œ íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ ìƒê¸°ëŠ” ë‹¨ì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ì¿ í‚¤ì™€ ì„¸ì…˜ì„ í™œìš©í•©ë‹ˆë‹¤.  

## 1. ì¿ í‚¤ (Cookie)

- **ì¿ í‚¤**ëŠ” í´ë¼ì´ì–¸íŠ¸ **ë¡œì»¬**ì— ì €ì¥ë˜ëŠ” í‚¤ì™€ ê°’ì´ ë“¤ì–´ìˆëŠ” ì‘ì€ ë°ì´í„° íŒŒì¼ì…ë‹ˆë‹¤.  

- ì‚¬ìš©ì ì¸ì¦ì´ ìœ íš¨í•œ ì‹œê°„ì„ ëª…ì‹œí•  ìˆ˜ ìˆìœ¼ë©°, ìœ íš¨ ì‹œê°„ì´ ì •í•´ì§€ë©´ ë¸Œë¼ìš°ì €ê°€ ì¢…ë£Œë˜ì–´ë„ ì¸ì¦ì´ ìœ ì§€ëœë‹¤ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤.  
- ì¿ í‚¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìƒíƒœ ì •ë³´ë¥¼ ë¡œì»¬ì— ì €ì¥í–ˆë‹¤ê°€ ì°¸ì¡°í•©ë‹ˆë‹¤.
- Response Headerì— Set-Cookie ì†ì„±ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ì— ì¿ í‚¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì¿ í‚¤ëŠ” ì‚¬ìš©ìê°€ ë”°ë¡œ ìš”ì²­í•˜ì§€ ì•Šì•„ë„ ë¸Œë¼ìš°ì €ê°€ Requestì‹œì— Request Headerë¥¼ ë„£ì–´ì„œ ìë™ìœ¼ë¡œ ì„œë²„ì— ì „ì†¡í•©ë‹ˆë‹¤.

### ì¿ í‚¤ì˜ êµ¬ì„± ìš”ì†Œ

- ì´ë¦„ : ê°ê°ì˜ ì¿ í‚¤ë¥¼ êµ¬ë³„í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì´ë¦„
- ê°’ : ì¿ í‚¤ì˜ ì´ë¦„ê³¼ ê´€ë ¨ëœ ê°’
- ìœ íš¨ì‹œê°„ : ì¿ í‚¤ì˜ ìœ ì§€ì‹œê°„
- ë„ë©”ì¸ : ì¿ í‚¤ë¥¼ ì „ì†¡í•  ë„ë©”ì¸
- ê²½ë¡œ : ì¿ í‚¤ë¥¼ ì „ì†¡í•  ìš”ì²­ ê²½ë¡œ

## 2. ì„¸ì…˜ (Session)

- **ì„¸ì…˜**ì€ ì¿ í‚¤ë¥¼ ê¸°ë°˜í•˜ê³  ìˆì§€ë§Œ, ì‚¬ìš©ì ì •ë³´ íŒŒì¼ì„ ë¸Œë¼ìš°ì €ì— ì €ì¥í•˜ëŠ” ì¿ í‚¤ì™€ ë‹¬ë¦¬ ì„¸ì…˜ì€ **ì„œë²„** ì¸¡ì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤.  

- ì„œë²„ì—ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ì„¸ì…˜ IDë¥¼ ë¶€ì—¬í•˜ë©° ì›¹ ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì— ì ‘ì†í•´ì„œ ë¸Œë¼ìš°ì €ë¥¼ ì¢…ë£Œí•  ë•Œê¹Œì§€ ì¸ì¦ìƒíƒœë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.
- ì ‘ì† ì‹œê°„ì— ì œí•œì„ ë‘ì–´ ì¼ì • ì‹œê°„ ì‘ë‹µì´ ì—†ë‹¤ë©´ ì •ë³´ê°€ ìœ ì§€ë˜ì§€ ì•Šê²Œ ì„¤ì •ì´ ê°€ëŠ¥ í•©ë‹ˆë‹¤.
- ì‚¬ìš©ìì— ëŒ€í•œ ì •ë³´ë¥¼ ì„œë²„ì— ë‘ê¸° ë•Œë¬¸ì— ì¿ í‚¤ë³´ë‹¤ ë³´ì•ˆì— ì¢‹ì§€ë§Œ, ì‚¬ìš©ìê°€ ë§ì•„ì§ˆìˆ˜ë¡ ì„œë²„ ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì°¨ì§€í•˜ê²Œ ë©ë‹ˆë‹¤.  
(ì¦‰, ë™ì ‘ì ìˆ˜ê°€ ë§ì€ ì›¹ ì‚¬ì´íŠ¸ì¸ ê²½ìš° ì„œë²„ì— ê³¼ë¶€í•˜ë¥¼ ì£¼ê²Œ ë˜ë¯€ë¡œ ì„±ëŠ¥ ì €í•˜ì˜ ìš”ì¸ì´ ë©ë‹ˆë‹¤.)
- í´ë¼ì´ì–¸íŠ¸ê°€ Requestë¥¼ ë³´ë‚´ë©´, í•´ë‹¹ ì„œë²„ì˜ ì—”ì§„ì´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìœ ì¼í•œ IDë¥¼ ë¶€ì—¬í•˜ëŠ” ë° ì´ê²ƒì´ ì„¸ì…˜IDë‹¤.

### ì„¸ì…˜ì˜ íŠ¹ì§•

- ê° í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ê³ ìœ  IDë¥¼ ë¶€ì—¬
- ì„¸ì…˜ IDë¡œ í´ë¼ì´ì–¸íŠ¸ë¥¼ êµ¬ë¶„í•´ì„œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”êµ¬ì— ë§ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì œê³µ
- ë³´ì•ˆ ë©´ì—ì„œ ì¿ í‚¤ë³´ë‹¤ ìš°ìˆ˜
- ì‚¬ìš©ìê°€ ë§ì•„ì§ˆìˆ˜ë¡ ì„œë²„ ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì°¨ì§€í•˜ê²Œ ë¨

## ì¿ í‚¤ì™€ ì„¸ì…˜ì˜ ì°¨ì´

- ì¿ í‚¤ëŠ” ì„œë²„ì˜ ìì›ì„ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©°, ì„¸ì…˜ì€ ì„œë²„ì˜ ìì›ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
- ë³´ì•ˆ ë©´ì—ì„œ ì„¸ì…˜ì´ ë” ìš°ìˆ˜í•˜ë©°, ìš”ì²­ ì†ë„ëŠ” ì¿ í‚¤ê°€ ì„¸ì…˜ë³´ë‹¤ ë” ë¹ ë¦…ë‹ˆë‹¤.  
(ì„¸ì…˜ì€ ì„œë²„ì˜ ì²˜ë¦¬ê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸)
- ì¿ í‚¤ëŠ” í´ë¼ì´ì–¸íŠ¸ ë¡œì»¬ì— ì €ì¥ë˜ê¸° ë•Œë¬¸ì— ë³€ì§ˆë˜ê±°ë‚˜ requestì—ì„œ ìŠ¤ë‹ˆí•‘ ë‹¹í•  ìš°ë ¤ê°€ ìˆì–´ì„œ ë³´ì•ˆì— ì·¨ì•½í•˜ì§€ë§Œ,  
ì„¸ì…˜ì€ ì¿ í‚¤ë¥¼ ì´ìš©í•´ì„œ sessionid ë§Œ ì €ì¥í•˜ê³  ê·¸ê²ƒìœ¼ë¡œ êµ¬ë¶„í•´ì„œ ì„œë²„ì—ì„œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ë¹„êµì  ë³´ì•ˆì„±ì´ ì¢‹ìŠµë‹ˆë‹¤.
- ì¿ í‚¤ë„ ë§Œë£Œì‹œê°„ì´ ìˆì§€ë§Œ íŒŒì¼ë¡œ ì €ì¥ë˜ê¸° ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ë¥¼ ì¢…ë£Œí•´ë„ ê³„ì†í•´ì„œ ì •ë³´ê°€ ë‚¨ì•„ ìˆì„ ìˆ˜ ìˆë‹¤.  
ë˜í•œ ë§Œë£Œê¸°ê°„ì„ ë„‰ë„‰í•˜ê²Œ ì¡ì•„ë‘ë©´ ì¿ í‚¤ì‚­ì œë¥¼ í•  ë•Œ ê¹Œì§€ ìœ ì§€ë  ìˆ˜ë„ ìˆë‹¤.  
ë°˜ë©´ì— ì„¸ì…˜ì€ ë§Œë£Œì‹œê°„ì„ ì •í•  ìˆ˜ ìˆì§€ë§Œ ë¸Œë¼ìš°ì €ê°€ ì¢…ë£Œë˜ë©´ ë§Œë£Œì‹œê°„ì— ìƒê´€ì—†ì´ ì‚­ì œëœë‹¤.  
- ì„¸ì…˜ì€ ì •ë³´ê°€ ì„œë²„ì— ìˆê¸° ë•Œë¬¸ì— ì²˜ë¦¬ê°€ ìš”êµ¬ë˜ì–´ ë¹„êµì  ëŠë¦° ì†ë„ë¥¼ ë‚¸ë‹¤.  

## ì„¸ì…˜ì˜ ì‚¬ìš©

ì„¸ì…˜ì€ ì„œë²„ì˜ ìì›ì„ ì‚¬ìš©í•˜ê¸°ë•Œë¬¸ì— ë¬´ë¶„ë³„í•˜ê²Œ ë§Œë“¤ë‹¤ë³´ë©´ ì„œë²„ì˜ ë©”ëª¨ë¦¬ê°€ ê°ë‹¹í•  ìˆ˜ ì—†ì–´ì§ˆ ìˆ˜ê°€ ìˆê³  ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìƒí™©ì— ì í•©í•˜ê²Œ ì„¸ì…˜ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.  

## Reference & Additional Resources

> * [ì¿ í‚¤ì™€ ì„¸ì…˜ ê°œë…](https://interconnection.tistory.com/74)